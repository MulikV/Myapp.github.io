"use strict";(self.webpackChunkangular_boilerplate=self.webpackChunkangular_boilerplate||[]).push([[635],{7635:(E,f,s)=>{s.r(f),s.d(f,{accounteditPageModule:()=>F});var m=s(9808),p=s(8330),_=s(5145);class Z{}var h=s(3098),e=s(5e3),A=s(9677),u=s(3075);function T(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1,"Account field is required."),e.qZA())}function v(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1,"Account field should be numeric."),e.qZA())}function b(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1,"Account field length should be 9 digits."),e.qZA())}function q(t,r){if(1&t&&(e.TgZ(0,"span",32),e.YNc(1,T,2,0,"div",28),e.YNc(2,v,2,0,"div",28),e.YNc(3,b,2,0,"div",28),e.qZA()),2&t){e.oxw();const n=e.MAs(38);e.xp6(1),e.Q6J("ngIf",n.errors&&n.errors.required),e.xp6(1),e.Q6J("ngIf",n.errors&&n.errors.pattern),e.xp6(1),e.Q6J("ngIf",n.errors&&n.errors.minlength&&!n.errors.pattern)}}function M(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1,"Meter field is required."),e.qZA())}function x(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1,"Meter field should be numeric."),e.qZA())}function U(t,r){if(1&t&&(e.TgZ(0,"span",27),e.YNc(1,M,2,0,"div",28),e.YNc(2,x,2,0,"div",28),e.qZA()),2&t){e.oxw();const n=e.MAs(53);e.xp6(1),e.Q6J("ngIf",n.errors&&n.errors.required),e.xp6(1),e.Q6J("ngIf",n.errors&&n.errors.pattern)}}function C(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1,"Account / Meter combination already exists."),e.qZA())}function P(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1,"This Meter already has child associated with it."),e.qZA())}function y(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1,"Parent Meter field should be numeric."),e.qZA())}function I(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1,"Parent Meter field lenght should be max 9 digits"),e.qZA())}function J(t,r){if(1&t&&(e.TgZ(0,"span",27),e.YNc(1,y,2,0,"div",28),e.YNc(2,I,2,0,"div",28),e.qZA()),2&t){e.oxw();const n=e.MAs(74);e.xp6(1),e.Q6J("ngIf",n.errors&&n.errors.pattern),e.xp6(1),e.Q6J("ngIf",n.errors&&n.errors.maxlength&&!n.errors.pattern)}}function N(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1,"Entered Meter number either does not exists/inactive or is assigned with a parent."),e.qZA())}function Q(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1,"SysId field is required."),e.qZA())}function D(t,r){1&t&&(e.TgZ(0,"div"),e._uU(1,"SysId field lenght should be max 8 digits."),e.qZA())}function Y(t,r){if(1&t&&(e.TgZ(0,"span",27),e.YNc(1,Q,2,0,"div",28),e.YNc(2,D,2,0,"div",28),e.qZA()),2&t){e.oxw();const n=e.MAs(103);e.xp6(1),e.Q6J("ngIf",n.errors&&n.errors.required),e.xp6(1),e.Q6J("ngIf",n.errors&&n.errors.maxlength)}}const g=function(t){return{"fdx-c-form-group--is-invalid":t}};let w=(()=>{class t{constructor(n,i,d){this.accountservice=n,this.route=i,this.router=d,this.submitted=!1,this.isCombination=!1,this.hasParent=!1,this.hasAssociated=!1,this.path=_.x.config.accountmeternumber,this.meterAccountCombination=new Z,this.Active=[{id:1,name:"True"},{id:2,name:"False"}],this.accountmeter={id:0,meterUuid:h.i.create().toString(),installationUuid:"",account:"",meter:"",parentMeter:"",active:1,addedDate:"",updatedDate:"",addedUser:"",updatedUser:"",sysId:"",isDeleted:0}}ngOnInit(){this.routeId=this.route.snapshot.paramMap.get("id"),this.routeHeader="0"===this.routeId?"Add Account Details":"Edit Account Details","0"!=this.routeId&&this.accountservice.getAccountMeter(this.routeId.toString()).subscribe(n=>{this.accountmeter=n.data})}onSubmit(n){this.isCombination||this.hasParent||this.hasAssociated||(this.submitted=!0,"0"==this.routeId?this.accountservice.postAccountMeter(n.value).subscribe(i=>{}):(console.log(n.value),this.accountservice.putAccountMeter(n.value).subscribe(i=>{})),this.returnHome())}returnHome(){setTimeout(()=>{this.router.navigateByUrl(this.path.root)},700)}onMeterFocusOutEvent(n){this.isCombination=!1,Number.isInteger(Number(this.accountmeter.account))&&Number.isInteger(Number(this.accountmeter.meter))&&""!=n.target.value&&""!=this.accountmeter.account&&""!=this.accountmeter.meter&&(this.meterAccountCombination.meterUuid=this.accountmeter.meterUuid,this.meterAccountCombination.account=this.accountmeter.account,this.meterAccountCombination.meter=this.accountmeter.meter,this.accountservice.getExistsAccountMeter(this.meterAccountCombination).subscribe(i=>{this.isCombination=i.succeeded}))}onParentMeterFocusOutEvent(n){this.hasParent=!1,Number.isInteger(Number(n.target.value))&&""!=n.target.value&&(this.meterAccountCombination.meterUuid=this.accountmeter.meterUuid,this.meterAccountCombination.account="0",this.meterAccountCombination.meter=n.target.value,this.accountservice.getExistsAccountMeter(this.meterAccountCombination).subscribe(i=>{this.hasParent=i.succeeded}))}onActiveFocusOutEvent(n){this.hasAssociated=!1,(0==n.target.value||2==n.target.value)&&""!=this.accountmeter.account&&""!=this.accountmeter.meter&&(this.meterAccountCombination.meterUuid=this.accountmeter.meterUuid,this.meterAccountCombination.account="1",this.meterAccountCombination.meter=this.accountmeter.meter,console.log(n.target.value),this.accountservice.getExistsAccountMeter(this.meterAccountCombination).subscribe(i=>{this.hasAssociated=i.succeeded}))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(A.K),e.Y36(p.gz),e.Y36(p.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["ng-component"]],decls:130,vars:32,consts:[[1,"fdx-o-grid--max-width","fdx-u-mt--7","fdx-u-mb--7"],[1,"fdx-o-grid__row","fdx-u-align--center"],[1,"fdx-o-grid__item--10"],[1,"fdx-c-header","fdx-c-header--h2","fdx-c-header--h3@small-only","fdx-o-grid__item--8@small-only","fdx-u-ml--12@small-only"],[2,"padding-top","4%"],["novalidate","",3,"ngSubmit"],["fm","ngForm"],[1,"form-group"],[1,"row"],[1,"col-md-5"],[1,"fdx-c-form-group","fdx-c-form-group--float-label","fdx-c-form-group--has-value"],[1,"fdx-c-form-group__item"],["readonly","","type","text","id","INPUT","value","","name","meterUuid","aria-describedby","alertID",1,"fdx-c-form-group__input",3,"ngModel","ngModelChange"],["for","INPUT",1,"fdx-c-form-group__label","fdx-c-form-group__label--dark"],["aria-hidden","true"],[1,"fdx-u-visual-hidden"],[1,"fdx-c-form-group__label__description"],["type","text","id","INPUT","value","","name","installationUuid","aria-describedby","alertID",1,"fdx-c-form-group__input",3,"ngModel","ngModelChange"],[1,"form-group",2,"padding-top","3%"],[1,"fdx-c-form-group","fdx-c-form-group--float-label","fdx-c-form-group--has-value",3,"ngClass"],["type","text","id","INPUT","value","","name","account","aria-describedby","alertID","required","","maxlength","9","minlength","9","pattern","^[0-9]*$",1,"fdx-c-form-group__input",3,"ngModel","ngModelChange","focusout"],["account","ngModel"],[2,"color","red"],["style","overflow-wrap: break-word;max-width: fit-content;","class","fdx-c-form-message fdx-c-form-message--error",4,"ngIf"],["type","text","id","INPUT","value","","name","meter","aria-describedby","alertID","required","","maxlength","9","pattern","^[0-9]*$",1,"fdx-c-form-group__input",3,"ngModel","ngModelChange","focusout"],["meter","ngModel"],["class","fdx-c-form-message fdx-c-form-message--error",4,"ngIf"],[1,"fdx-c-form-message","fdx-c-form-message--error"],[4,"ngIf"],[1,"col-md-4"],["type","text","id","INPUT","value","","name","parentMeter","aria-describedby","alertID","maxlength","9","pattern","^[0-9]*$",1,"fdx-c-form-group__input",3,"ngModel","ngModelChange","focusout"],["parentMeter","ngModel"],[1,"fdx-c-form-message","fdx-c-form-message--error",2,"overflow-wrap","break-word","max-width","fit-content"],[1,"col-md-2"],[1,"fdx-c-form-group","fdx-c-form-group--select","fdx-c-form-group--float-label","fdx-c-form-group--has-value"],["id","dropdown","id","INPUT","aria-labelledby","MyLABEL","name","active",1,"fdx-c-form-group__select",3,"ngModel","ngModelChange","focusout"],["value","0"],["value","1"],["value","2"],["for","INPUT","id","MyLABEL",1,"fdx-c-form-group__label"],["role","alert","id","alertID",1,"fdx-c-form-group__message","fdx-c-form-group__message--has-message",2,"visibility","hidden"],["type","text","id","INPUT","value","","name","sysId","aria-describedby","alertID","required","","maxlength","8",1,"fdx-c-form-group__input",3,"ngModel","ngModelChange"],["sysId","ngModel"],[1,"col-md-1"],["type","submit",1,"fdx-c-button","fdx-c-button--min-width","fdx-c-button--primary"],[1,"col-md-1",2,"padding-left","12%"],["type","button",1,"fdx-c-button","fdx-c-button--min-width","fdx-c-button--primary",3,"click"],["hidden","","type","text","name","addedDate",1,"form-control",3,"ngModel","ngModelChange"],["hidden","","type","text","name","updatedDate",1,"form-control",3,"ngModel","ngModelChange"],["hidden","","type","text","name","addedUser",1,"form-control",3,"ngModel","ngModelChange"],["hidden","","type","text","name","updatedUser",1,"form-control",3,"ngModel","ngModelChange"],["hidden","","type","text","name","isDeleted",1,"form-control",3,"ngModel","ngModelChange"]],template:function(n,i){if(1&n){const d=e.EpF();e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"h1",3),e._uU(4),e.qZA(),e.qZA(),e.qZA(),e._UZ(5,"div",4),e.TgZ(6,"form",5,6),e.NdJ("ngSubmit",function(){e.CHM(d);const o=e.MAs(7);return o.form.valid&&i.onSubmit(o)}),e.TgZ(8,"div",7),e.TgZ(9,"div",8),e.TgZ(10,"div",9),e.TgZ(11,"div",10),e.TgZ(12,"div",11),e.TgZ(13,"input",12),e.NdJ("ngModelChange",function(o){return i.accountmeter.meterUuid=o}),e.qZA(),e.TgZ(14,"label",13),e.TgZ(15,"span"),e._uU(16,"meter Uuid "),e._UZ(17,"abbr",14),e.TgZ(18,"span",15),e._uU(19,"(required)"),e.qZA(),e.qZA(),e._UZ(20,"span",16),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"div",9),e.TgZ(22,"div",10),e.TgZ(23,"div",11),e.TgZ(24,"input",17),e.NdJ("ngModelChange",function(o){return i.accountmeter.installationUuid=o}),e.qZA(),e.TgZ(25,"label",13),e.TgZ(26,"span"),e._uU(27,"installation Uuid "),e._UZ(28,"abbr",14),e.TgZ(29,"span",15),e._uU(30,"(required)"),e.qZA(),e.qZA(),e._UZ(31,"span",16),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(32,"div",18),e.TgZ(33,"div",8),e.TgZ(34,"div",9),e.TgZ(35,"div",19),e.TgZ(36,"div",11),e.TgZ(37,"input",20,21),e.NdJ("ngModelChange",function(o){return i.accountmeter.account=o})("focusout",function(o){return i.onMeterFocusOutEvent(o)}),e.qZA(),e.TgZ(39,"label",13),e.TgZ(40,"span"),e._uU(41,"Account "),e.TgZ(42,"span",22),e._uU(43,"\xa0*"),e.qZA(),e._UZ(44,"abbr",14),e.TgZ(45,"span",15),e._uU(46,"(required)"),e.qZA(),e.qZA(),e._UZ(47,"span",16),e.qZA(),e.qZA(),e.qZA(),e.YNc(48,q,4,3,"span",23),e.qZA(),e.TgZ(49,"div",9),e.TgZ(50,"div",19),e.TgZ(51,"div",11),e.TgZ(52,"input",24,25),e.NdJ("ngModelChange",function(o){return i.accountmeter.meter=o})("focusout",function(o){return i.onMeterFocusOutEvent(o)}),e.qZA(),e.TgZ(54,"label",13),e.TgZ(55,"span"),e._uU(56,"Meter "),e.TgZ(57,"span",22),e._uU(58,"\xa0*"),e.qZA(),e._UZ(59,"abbr",14),e.TgZ(60,"span",15),e._uU(61,"(required)"),e.qZA(),e.qZA(),e._UZ(62,"span",16),e.qZA(),e.qZA(),e.qZA(),e.YNc(63,U,3,2,"span",26),e.TgZ(64,"span",27),e.YNc(65,C,2,0,"div",28),e.qZA(),e.TgZ(66,"span",27),e.YNc(67,P,2,0,"div",28),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(68,"div",18),e.TgZ(69,"div",8),e.TgZ(70,"div",29),e.TgZ(71,"div",19),e.TgZ(72,"div",11),e.TgZ(73,"input",30,31),e.NdJ("ngModelChange",function(o){return i.accountmeter.parentMeter=o})("focusout",function(o){return i.onParentMeterFocusOutEvent(o)}),e.qZA(),e.TgZ(75,"label",13),e.TgZ(76,"span"),e._uU(77,"Parent "),e._UZ(78,"abbr",14),e.TgZ(79,"span",15),e._uU(80,"(required)"),e.qZA(),e.qZA(),e._UZ(81,"span",16),e.qZA(),e.qZA(),e.qZA(),e.YNc(82,J,3,2,"span",26),e.TgZ(83,"span",32),e.YNc(84,N,2,0,"div",28),e.qZA(),e.qZA(),e.TgZ(85,"div",33),e.TgZ(86,"div",34),e.TgZ(87,"span",11),e.TgZ(88,"select",35),e.NdJ("ngModelChange",function(o){return i.accountmeter.active=o})("focusout",function(o){return i.onActiveFocusOutEvent(o)}),e.TgZ(89,"option",36),e._uU(90,"\xa0- - Select - - \xa0"),e.qZA(),e.TgZ(91,"option",37),e._uU(92,"True"),e.qZA(),e.TgZ(93,"option",38),e._uU(94,"False"),e.qZA(),e.qZA(),e.TgZ(95,"label",39),e._uU(96,"Active"),e.qZA(),e.qZA(),e.TgZ(97,"div",40),e._uU(98,"Firstname needs to be 3 characters or longer "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(99,"div",29),e.TgZ(100,"div",19),e.TgZ(101,"div",11),e.TgZ(102,"input",41,42),e.NdJ("ngModelChange",function(o){return i.accountmeter.sysId=o}),e.qZA(),e.TgZ(104,"label",13),e.TgZ(105,"span"),e._uU(106,"sysId "),e._UZ(107,"abbr",14),e.TgZ(108,"span",15),e._uU(109,"(required)"),e.qZA(),e.qZA(),e._UZ(110,"span",16),e.qZA(),e.qZA(),e.qZA(),e.YNc(111,Y,3,2,"span",26),e.qZA(),e.qZA(),e.qZA(),e.TgZ(112,"div",7),e.TgZ(113,"div",8),e.TgZ(114,"div",43),e.TgZ(115,"button",44),e._uU(116,"Save"),e.qZA(),e.qZA(),e.TgZ(117,"div",45),e.TgZ(118,"button",46),e.NdJ("click",function(){return i.returnHome()}),e._uU(119,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(120,"tr"),e.TgZ(121,"input",47),e.NdJ("ngModelChange",function(o){return i.accountmeter.addedDate=o}),e.qZA(),e.qZA(),e.TgZ(122,"tr"),e.TgZ(123,"input",48),e.NdJ("ngModelChange",function(o){return i.accountmeter.updatedDate=o}),e.qZA(),e.qZA(),e.TgZ(124,"tr"),e.TgZ(125,"input",49),e.NdJ("ngModelChange",function(o){return i.accountmeter.addedUser=o}),e.qZA(),e.qZA(),e.TgZ(126,"tr"),e.TgZ(127,"input",50),e.NdJ("ngModelChange",function(o){return i.accountmeter.updatedUser=o}),e.qZA(),e.qZA(),e.TgZ(128,"tr"),e.TgZ(129,"input",51),e.NdJ("ngModelChange",function(o){return i.accountmeter.isDeleted=o}),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&n){const d=e.MAs(7),a=e.MAs(38),o=e.MAs(53),c=e.MAs(74),l=e.MAs(103);e.xp6(4),e.Oqu(i.routeHeader),e.xp6(9),e.Q6J("ngModel",i.accountmeter.meterUuid),e.xp6(11),e.Q6J("ngModel",i.accountmeter.installationUuid),e.xp6(11),e.Q6J("ngClass",e.VKq(24,g,!(null!=a&&a.valid)&&((null==a?null:a.dirty)||(null==a?null:a.touched)||d.submitted))),e.xp6(2),e.Q6J("ngModel",i.accountmeter.account),e.xp6(11),e.Q6J("ngIf",!(null!=a&&a.valid)&&((null==a?null:a.dirty)||(null==a?null:a.touched)||d.submitted)),e.xp6(2),e.Q6J("ngClass",e.VKq(26,g,!(null!=o&&o.valid)&&((null==o?null:o.dirty)||(null==o?null:o.touched)||d.submitted)||i.isCombination||i.hasAssociated)),e.xp6(2),e.Q6J("ngModel",i.accountmeter.meter),e.xp6(11),e.Q6J("ngIf",!(null!=o&&o.valid)&&((null==o?null:o.dirty)||(null==o?null:o.touched)||d.submitted)),e.xp6(2),e.Q6J("ngIf",i.isCombination),e.xp6(2),e.Q6J("ngIf",i.hasAssociated),e.xp6(4),e.Q6J("ngClass",e.VKq(28,g,!(null!=c&&c.valid)&&((null==c?null:c.dirty)||(null==c?null:c.touched)||d.submitted)||i.hasParent)),e.xp6(2),e.Q6J("ngModel",i.accountmeter.parentMeter),e.xp6(9),e.Q6J("ngIf",!(null!=c&&c.valid)&&((null==c?null:c.dirty)||(null==c?null:c.touched)||d.submitted)),e.xp6(2),e.Q6J("ngIf",i.hasParent),e.xp6(4),e.Q6J("ngModel",i.accountmeter.active),e.xp6(12),e.Q6J("ngClass",e.VKq(30,g,!(null!=l&&l.valid)&&((null==l?null:l.dirty)||(null==l?null:l.touched)||d.submitted))),e.xp6(2),e.Q6J("ngModel",i.accountmeter.sysId),e.xp6(9),e.Q6J("ngIf",!(null!=l&&l.valid)&&((null==l?null:l.dirty)||(null==l?null:l.touched)||d.submitted)),e.xp6(10),e.Q6J("ngModel",i.accountmeter.addedDate),e.xp6(2),e.Q6J("ngModel",i.accountmeter.updatedDate),e.xp6(2),e.Q6J("ngModel",i.accountmeter.addedUser),e.xp6(2),e.Q6J("ngModel",i.accountmeter.updatedUser),e.xp6(2),e.Q6J("ngModel",i.accountmeter.isDeleted)}},directives:[u._Y,u.JL,u.F,u.Fj,u.JJ,u.On,m.mk,u.Q7,u.nD,u.wO,u.c5,m.O5,u.EJ,u.YN,u.Kr],styles:[""]}),t})(),F=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[m.ez,u.u5,p.Bz.forChild([{path:"",component:w,data:{title:"accounteditPage",robots:"noindex, nofollow"}}])]]}),t})()}}]);